# Backend стажировка VK - тестовое задание

## Фишки

- **Развернут на сервере** 
- **Swagger** доступен: [Swagger UI](http://62.60.186.2:8080/api/swagger/index.html)  
- **Логирование** ведётся в файл `main.log` в корне проекта  
- **Чистая архитектура**  
- **easyjson** для быстрой маршализации  
- **Пароль с солью** через Argon2

## Postman
- В папке `postman` есть две коллекции:
  - `local` - для тестирования локально
  - `public` - для тестирования на сервере

## Авторизация
- После успешной регистрации / авторизации возвращается JWT-токен в теле ответа. Для последующих запросов, требующих авторизации, этот токен должен передаваться в заголовке MarketplaceJWT
- Если передать JWT-токен при регистрации - вернёт ошибку  
- При повторной авторизации с JWT-токеном - всё ок, авторизация произойдет - вернется новый токен

### Ручка GET /api/products

Принимает параметры:

- `page` Номер страницы (по умолчанию 1)
- `limit` Количество на странице (по умолчанию 10)
- `sort_by` created_at или price (по умолчанию created_at)
- `sort_dir` Направление сортировки: asc или desc (по умолчанию desc)
- `min_price` Минимальная цена
- `max_price` Максимальная цена

## Как запустить
### 1. Клонируйте репозиторий

```bash
git clone https://github.com/totorialman/vk-marketplace-api.git
cd vk-marketplace-api
```

### 2. Соберите и запустите контейнеры

Выполните из корня проекта:

```bash
docker compose up -d --build
```

Все переменные окружения указаны в файле `.env` в корне проекта. Это удобное решение для тестового задания, хотя и не подходит для продакшена с точки зрения безопасности.

## 3. Проверка

Теперь проект доступен по адресу:  
`http://localhost:8080`

## БД
- **PostgreSQL** в качестве БД  
- Поле `price` - тип `NUMERIC`
